import java.util.Arrays;
import java.util.HashSet;

class Day3 {
  public static void main(String[] args) {
    String[] input = {
      "....#...##......##..#..#.#...#.",
      "..######...#......#....#..#.##.",
      "..#.#...##......#.#..#..#....#.",
      "..#.....#..#.#........#.#..#..#",
      "#......##..###...#.#..#.....#..",
      "#.......##...###...#....#......",
      ".....##...#......##.#.#..#.##..",
      ".........#......#.....#......#.",
      "..#.#..#....#....#......##.#.##",
      ".#...#..#.............#.#..#.#.",
      "....#..#.#.##.#....#..#..#....#",
      "...#..#.....#.......#...#..#..#",
      ".....#.....#.......#..#...#....",
      ".##.......#...#..#........#...#",
      "...#.......#.#.#...#.#.#......#",
      "#....#..#.....#......##....#..#",
      "###.#......#.#.#.#..#....#....#",
      "......##......#.#...#...#..#...",
      ".....#......#.#.#......#.#.....",
      "...##...#..#........#..#.##....",
      "..##.#.#..#...###..........#.#.",
      ".#..#..#.....#.........#.###.#.",
      "....##.....#...#...##..#.##...#",
      "....#.##....#.....##......#....",
      "........#.#.........#.#.......#",
      "#....##.#....#..#...#..........",
      "#..###......#....##..........##",
      "....##.#.....#..#.##......#....",
      "#..#......#......#.............",
      "...##.....##.......#.......#...",
      "#...#.#.....#..........#...###.",
      "#.....#..#.#.###...#......###..",
      "...##.#......#........#..#.....",
      "......#.....###.#...##........#",
      ".#......##......##....#....#...",
      "..#.#..#.....##....#....#..#...",
      "..#.#.....#.##.#.....#.....#...",
      "....#.......#...#.........##...",
      ".#....#..#.......##.......#....",
      "..#..##.....#...##.##.#.#......",
      ".##.#....#............#.......#",
      ".......#...#..#.#.##.....##..##",
      "..###....#..#.##........##.#...",
      "....#.#..#.....#..#.#.....#....",
      "..#..#.#..............#..#.....",
      ".......#.#.#.........#......#..",
      "...##..#.#...#......##.#.......",
      "#....#.#.........#...#....#..##",
      ".#..#.#...#.......#.#.#....#.##",
      ".#..###.#..#.#.....#..#........",
      "#.#..##.###.....##.........#..#",
      "#...##...#..##..#..#..........#",
      ".#...#..#......................",
      "...##..###...........#.#...##..",
      "..........#.#....#.#...........",
      "..#....#....#..#....#.#.#......",
      ".#..#.....###......#...#...#...",
      "#.##..#..#.........#..#....#...",
      "........#......#...#.........#.",
      "..#.....#.#..##...#.#.#...##...",
      "..#...........#.##..#.#..#.##..",
      "..............##...#.#......#..",
      "#.#..#....#...##.###........#..",
      ".#...#..#........#........##..#",
      ".....##..#...#.....#.#.........",
      ".#...#...#....###...#.#.#..##..",
      "....#.........#....###..##....#",
      ".#....#...####...##....####.#..",
      "..#..#.......#..#......#.#.#...",
      "....#....#.......##..#.#.......",
      "..#....#...........##.#.##.....",
      "#..#..#...##.##....#.#.#.###.##",
      "...#...#....#.#...##...#....###",
      "......##........#.........#.#..",
      "....#####..#..##.......#.#....#",
      "....##..#...###....#..#.....#..",
      "..#........#..#.#.....#....#...",
      "..#....#......#..#...#......#..",
      "...#.....##...#.#..##.....#..#.",
      "...#..#.......####.##...#......",
      ".....#..#..#.##..##....#..#.#..",
      "..#..#..##.#.#.##..#..#...#....",
      "...#..........#.........#....##",
      ".##.....###...............#.##.",
      "...##...........#.#.#......#..#",
      ".#...#.#.##....#....#..#.......",
      ".#...###.#....#..#..#..#......#",
      "#..#........###...........#..#.",
      "..#...#......#.#.#......####.#.",
      "...#.#....##.#.....#.....##....",
      "...###..#.#.#...#.....#.###..#.",
      ".#.#..#...##......#..........#.",
      "##.....#.......#.#..###...#.#..",
      "##.###....#.....#.....###.#....",
      "#...#..##....#.#...#...#......#",
      ".....##.#........#.###.........",
      ".#..#..#.#......##.#...#.#.....",
      "#..#.#........##...........##.#",
      "#...###..#..####..#.#..........",
      "..#...#....#...##.#....#....##.",
      "......#.#........#.....#..#....",
      "#.........#...#.....#...#..##..",
      "#....#.........#...#.##..###.#.",
      "#...###...#.##.#.#.............",
      "#.#....#....#......#....#.#...#",
      "##...#.##......#..#.#....#.....",
      "....#...#.##....#..............",
      ".........##..........#..##..#..",
      "......##....#.#......#.........",
      "..#.#..............#......#..##",
      "...........##.......#.#.#......",
      "##...#........##.......#.#.....",
      "....#...#...#....#.#......##...",
      "...#..#.#.#.........#..#.#....#",
      ".##.#...#.#.........#.....##.#.",
      "#.#.....#.#.....#..............",
      "..#.#..#....#..........#..##...",
      "...#..#....................#..#",
      "...........#...........#...#..#",
      "............#...#............##",
      "..#....##......##...........#..",
      "..#..#..#....#....##......##.##",
      "##..........#..##.##.#...#.....",
      "............#..#........###.#..",
      "###...##.#.#....#....#.#....#..",
      "...#......##...#.......####....",
      ".......#..#..#.#.....#.........",
      "........##.......##.....#......",
      "#.#...#.###....#..#...##.......",
      "...#.#....#..#####.#..##.#.....",
      "..#.#..##.......###...#.....#..",
      "..#.......#..#...#...#..#.##...",
      "......#..#.......#.....#....#..",
      ".......#........#.#.......##..#",
      ".#.#.....#.......#.......##..#.",
      "..#.#....#.#.#####.....#...#...",
      "#..#............###.......#..#.",
      "........##.........#..#...###..",
      ".#............##...#.....#.....",
      ".#..##..#....#....#.......#....",
      "....##..........##.............",
      ".##..........#..#..#....#...#..",
      "...#..#..#............####.....",
      ".............#..#.##..#.#.##...",
      ".....#........#....#.#.......#.",
      "###.#..#.#...#....##...........",
      "....#......#...#....##.......#.",
      ".......#.#...#.#...#........##.",
      "..........#........#..#.##.....",
      "##..#.#.....##.#...............",
      ".....#....#................#...",
      "...##....#........##.#....#....",
      ".....##...###....#.#..#.......#",
      ".....#.#.........##....###.....",
      ".#.....##......#..##..##...##.#",
      ".#..............#.....#.#......",
      ".##......#..#..#......##.......",
      ".......#..................#....",
      "...#.#...##......####.........#",
      "#....#####.#.#..#..#..#...#...#",
      "##.#...#.......#....#...#...###",
      "...#........#.....#...#.##.....",
      "..##....#.......#....#.......##",
      "#......#..##...#..##.#.....#.#.",
      "..###........#.#..#........#.#.",
      "...#.###..........#.....#.#.#..",
      "#.###.....#...#...#..##..###...",
      "#....#.#.....#.#........#......",
      "........#.......##.......#.....",
      "...........#...#......##.......",
      "............#...#....#..#.....#",
      "#.#.#.#....#.....#.#..........#",
      "#.##...#...#..#....##.#.......#",
      "...#..#......#..#...##..##..#..",
      "#....#......#.#.....##.#..#....",
      "#....#..##.#......#.#.....#..##",
      ".#..##....##....#.#...#...#....",
      "#.#.###....#.#............#...#",
      ".#.#....#..#..........#....#.#.",
      "......#..#.#...............##..",
      "..#......###.#..........#.###..",
      "....#.##.#..#...##..#.#...#....",
      "..............#...##.......#.##",
      ".#...........#....#....#.##....",
      "#..#....#.....#...#.....##...#.",
      ".........#...#.##.......#...#.#",
      ".....#......#.........#.#..#...",
      "##..........#.#..##...#.#.#....",
      "##..##.#..#..#.....#.##....#...",
      "........##....#.#.#....#......#",
      ".#.##...#.###....#.........#..#",
      "..........#....###..#.........#",
      "#.#..#.#...#.......#..##.......",
      "..#....#...###..............##.",
      "#..###.....####...#..#..#...#..",
      "......#..#...###........###....",
      "..#.....#...#.......#....###..#",
      ".#.........#.#.#....#.#.......#",
      "#.#.###.#.#...........#........",
      "......#..#.........#........#..",
      "...........##.#........#.#...#.",
      ".....#.#......##.......#.....##",
      "...##...#............#..#.....#",
      ".....#..##....##...##.#..#.#...",
      "...#...#........#.#......##....",
      "........#..##..#..#......##.#..",
      ".#.#.....#.....#...........#.##",
      ".#...#.#............#......#...",
      ".....#...#........#....#..#.#..",
      "...##....#..#...#..............",
      "#....##.#.#............#.......",
      "#..#..#.....##..#........##.#.#",
      "##..#.#....#....##.......###..#",
      ".#.#.#.....###.....#.#......###",
      ".....#..#...###...#....#.#...#.",
      ".##.....................##....#",
      ".#.....#.........#....#.....##.",
      "#...#....#.#...###.......#.#..#",
      "...#.................#.#....#.#",
      ".##...#.#......................",
      ".##.#........#...##............",
      ".#....#.....#.........#.##..##.",
      "#......#...##..#.........##.##.",
      "......#......#...####..#.##....",
      ".###....#..##......#.##......#.",
      "..#...#....#..#.......#.#......",
      "#....#...#.................#.#.",
      "....#.#.#..#...#..#.......#.#.#",
      "#.#...##.......#.....##.#......",
      "#.........#.....##..##..#......",
      "....#..##..#.....#..#..#.#..#..",
      "......#.#..#.#.#....#.#.......#",
      ".##......#..#....##...##..#....",
      "..#..#......#...##..#.##.....#.",
      "..#..#.......#.#....#.....#...#",
      "....#.#.....###...#.......#.#..",
      "..#....##.....##.#........##...",
      "#...............##....#.....##.",
      ".#.........#....#...##.###.##.#",
      ".#.##..#.............#.#.#..#..",
      ".#.....#.................##....",
      "..####.........#.#......#.#..#.",
      "#.......#..........#.#........#",
      ".#.#...##.....#.#.......#....#.",
      "..#.##.#.......###....#....#...",
      ".#....##.............##.#.#.#..",
      "#.#.....#.#.#.#..#......##..#..",
      ".............#..........#.#.#..",
      "...#.#.............#.#...##....",
      ".......#..#.#.......#..#.#....#",
      ".............#.........###..#..",
      ".#.#..#....#.....#..#.....#...#",
      "#.....#....##..##.#..#........#",
      "..##..###.....##....#.#..#.....",
      "..#...##....#...#.#..........#.",
      "...##..##.#.....#....#.........",
      "..#...#........##.#..#........#",
      "#.............#.###......#.##..",
      ".#...#........#...........#...#",
      "..##.......#.#..##.##......#...",
      "...#.#...##....##..#...........",
      ".#......##........#....##....#.",
      ".........#..#....#...#..##.##..",
      "....#..#.#...#.......#.#.##....",
      "...#.#......#.#..#..#.#....#..#",
      ".......#........#.........###..",
      "#.#..#.#.........##............",
      "##..##..#.##..###...#.#...#....",
      ".#....#.#..#...#....#.##.....#.",
      ".#.#.#.#........##...#..#.#.##.",
      ".#..#.#..#...........#..#......",
      "..#.##.#...#....#.........#...#",
      ".....##...#.#...#...#....#.....",
      "..#..........#.#.#.......##.#..",
      "#.#............#..#.....#..#...",
      "..#...........##.#.##.#....#..#",
      "#..####.....#............#.....",
      ".##......#####.#..#.....#....#.",
      "...##..#.#......#.#..#..#...##.",
      "#....................#.##...#.#",
      "...#............#.............#",
      "....#.##..........#.....#......",
      "....##..##....#.#..............",
      "...........#....##.#.....#.....",
      "....#.....#....#....#......#...",
      "#...##........#...#........#.#.",
      "........#.....##..#.##.#..#.#.#",
      "....##......##....#.....##....#",
      "...#.#........##.......#...##..",
      "#......##..#.#.#....##......#..",
      "..#.......#.......##..#.##.....",
      ".#...#...#.#.............##....",
      "......#.#.#.........##...#..#.#",
      ".....#..####....#.##..........#",
      "...#...#.#....#.....#..#.....##",
      ".........#.......#......###....",
      "........##..##..#.#.#...###...#",
      ".#..##.#....#...##.....#.#.#...",
      "........##...#...##..#.........",
      ".........#.......#.##..#...####",
      "#......#.....#..............#.#",
      "##..##.#.##.....##...........#.",
      "#.............#.........#......",
      "...####.#.##..#.#.#.##.#......#",
      "..#.....##....#...#............",
      "#..............#......#...###..",
      "..#..#.#...#.##.........##.....",
      "..#...##..#........#..#.##..##.",
      "......###...#..#....#..#.###...",
      "...##.##.###.....##.#.......#..",
      "#....#..###..#.......#.#.#..#..",
      "..##.............##..##...###.#",
      ".#.#..#.........#..........#...",
      ".........#.#.....##...#..#...##",
      "....#..#....#####..#...#..#....",
      "...#.....#.....#...#.#..#.#....",
      ".#..#.............#.......##.#.",
      "...##.......#.#.....##......#..",
      "...........##..#.##..###...#.#.",
      "...........#...........#...#..#",
      "..#....#.##.#..#..#...........#",
      "..#.....##...#......#...#......",
      "...###.###.....##..........#..#",
    };

    System.out.println(numTrees(input, 1, 1)); // 77
    System.out.println(numTrees(input, 3, 1)); // 218
    System.out.println(numTrees(input, 5, 1)); // 65
    System.out.println(numTrees(input, 7, 1)); // 82
    System.out.println(numTrees(input, 1, 2)); // 43
    System.out.println(77 * 218 * 65 * 82 * 43); // 3847183340
  }

  public static int numTrees(String[] input, int rightVal, int downVal) {
    int treeCount = 0;
    int posX = 0;
    for (int i = 0; i < input.length; i+=downVal) {
      if (input[i].charAt(posX % input[i].length()) == '#') {
        treeCount = treeCount + 1;
      }
      posX = posX + rightVal;
    }
    return treeCount;
  }
}